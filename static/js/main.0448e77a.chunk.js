(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{14:function(t,e,a){},16:function(t,e,a){},18:function(t,e,a){"use strict";a.r(e);var n=a(0),r=a.n(n),s=a(8),o=a.n(s),i=(a(14),a(1)),c=a(2),u=a(3),l=a(5),d=a(4),h=a(6),m=function(t){function e(){var t,a;Object(c.a)(this,e);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(l.a)(this,(t=Object(d.a)(e)).call.apply(t,[this].concat(r)))).moveDown=function(){a.setPosition(a.state.cx,a.state.cy+10)},a.setPosition=function(t,e){a.setState({cx:t,cy:e})},a}return Object(h.a)(e,t),Object(u.a)(e,[{key:"render",value:function(){return this.props.snakeSegments.map(function(t,e){return r.a.createElement("circle",{key:e,cx:t.cx,cy:t.cy,r:t.r,fill:"lightgreen"})})}}]),e}(r.a.Component),f=function(t){function e(){return Object(c.a)(this,e),Object(l.a)(this,Object(d.a)(e).apply(this,arguments))}return Object(h.a)(e,t),Object(u.a)(e,[{key:"render",value:function(){return r.a.createElement("circle",{cx:this.props.cx,cy:this.props.cy,r:this.props.r,fill:"lightpink"})}}]),e}(r.a.Component),p=function(t){function e(){return Object(c.a)(this,e),Object(l.a)(this,Object(d.a)(e).apply(this,arguments))}return Object(h.a)(e,t),Object(u.a)(e,[{key:"render",value:function(){return r.a.createElement("circle",{cx:this.props.cx,cy:this.props.cy,r:this.props.r,fill:"darkgrey"})}}]),e}(r.a.Component),b=(a(16),function(t){function e(){var t,a;Object(c.a)(this,e);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(l.a)(this,(t=Object(d.a)(e)).call.apply(t,[this].concat(r)))).gameInterval=null,a.defaultState={paused:!1,gameOver:!1,growth:0,direction:{x:1,y:0},snakeSegments:[{cx:50,cy:50,r:10}],fruits:[],bombs:[]},a.state=a.defaultState,a.moveSnake=function(){var t=a.state.snakeSegments.slice(),e=a.state.growth,n=t[0],r=Object(i.a)({},n);r.cx=(n.cx+2*n.r*a.state.direction.x+a.props.boardWidth)%a.props.boardWidth,r.cy=(n.cy+2*n.r*a.state.direction.y+a.props.boardHeight)%a.props.boardHeight,e?e--:t.splice(-1,1),t.unshift(r);var s=Object(i.a)({},a.state,{snakeSegments:t,growth:e});a.setState(s)},a.dieIfCollide=function(){var t=a.state.snakeSegments[0];a.state.snakeSegments.map(function(e,n){return 0!==n&&a.doItemsCollide(t,e)&&a.gameOver(),!0})},a.gameOver=function(){a.pause();var t=Object(i.a)({},a.state,{gameOver:!0});a.setState(t)},a.showNewFruits=function(){if(!(a.state.fruits.length>9||1!==Math.floor(10*Math.random()+1))){var t={r:7,cx:10*Math.floor(30*Math.random()+1),cy:10*Math.floor(30*Math.random()+1)},e=a.state.fruits.slice();e.push(t);var n=Object(i.a)({},a.state,{fruits:e});a.setState(n)}},a.hideRottenFruits=function(){if(!(a.state.fruits.length<3||1!==Math.floor(30*Math.random()+1))){var t=a.state.fruits.slice();t.splice(-1,1);var e=Object(i.a)({},a.state,{fruits:t});a.setState(e)}},a.showNewBombs=function(){if(!(a.state.bombs.length>1||1!==Math.floor(10*Math.random()+1))){var t={r:8,cx:10*Math.floor(30*Math.random()+1),cy:10*Math.floor(30*Math.random()+1)},e=a.state.bombs.slice();e.push(t);var n=Object(i.a)({},a.state,{bombs:e});a.setState(n)}},a.hideRottenBombs=function(){if(1===Math.floor(30*Math.random()+1)){var t=a.state.bombs.slice();t.splice(-1,1);var e=Object(i.a)({},a.state,{bombs:t});a.setState(e)}},a.eatFruits=function(){var t=a.state.growth,e=a.state.fruits.slice(),n=a.state.snakeSegments[0];e.map(function(r,s){return a.doItemsCollide(n,r)&&(e.splice(s,1),t++),!0});var r=Object(i.a)({},a.state,{fruits:e,growth:t});a.setState(r)},a.eatBombs=function(){var t=a.state.snakeSegments[0];a.state.bombs.map(function(e,n){return a.doItemsCollide(t,e)&&a.gameOver(),!0})},a.setDirection=function(t,e){if(!(a.state.direction.x*t||a.state.direction.y*e)){var n=Object(i.a)({},a.state,{direction:{x:t,y:e}});a.setState(n)}},a.doItemsCollide=function(t,e){var a=t.r+e.r;return Math.abs(t.cx-e.cx)<a&&Math.abs(t.cy-e.cy)<a},a.tick=function(){a.dieIfCollide(),a.state.paused||(a.eatBombs(),a.eatFruits(),a.moveSnake(),a.showNewFruits(),a.hideRottenFruits(),a.showNewBombs(),a.hideRottenBombs())},a.restart=function(){a.state.gameOver&&(a.setState(a.defaultState),a.start())},a.togglePause=function(){a.state.gameOver||(a.state.paused?a.start():a.pause())},a.pause=function(){clearInterval(a.gameInterval);var t=Object(i.a)({},a.state,{paused:!0});a.setState(t)},a.start=function(){a.gameInterval=setInterval(a.tick,a.props.speed);var t=Object(i.a)({},a.state,{paused:!1});a.setState(t)},a}return Object(h.a)(e,t),Object(u.a)(e,[{key:"componentDidMount",value:function(){var t=this;window.addEventListener("keydown",function(e){40===e.keyCode&&t.setDirection(0,1),38===e.keyCode&&t.setDirection(0,-1),37===e.keyCode&&t.setDirection(-1,0),39===e.keyCode&&t.setDirection(1,0)}),window.addEventListener("keypress",function(e){32===e.keyCode&&t.togglePause(),13===e.keyCode&&t.restart()}),this.start()}},{key:"renderGameOver",value:function(){if(this.state.gameOver)return r.a.createElement("div",{className:"game-over"},r.a.createElement("p",null,"Game over.",r.a.createElement("br",null)," Press 'enter' to continue."))}},{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement("div",{className:"board"},this.renderGameOver(),r.a.createElement("svg",{height:this.props.boardHeight,width:this.props.boardWidth},r.a.createElement(m,{snakeSegments:this.state.snakeSegments}),this.state.fruits.map(function(t,e){return r.a.createElement(f,{key:e,cx:t.cx,cy:t.cy,r:t.r})}),this.state.bombs.map(function(t,e){return r.a.createElement(p,{key:e,cx:t.cx,cy:t.cy,r:t.r})}))))}}]),e}(n.Component));b.defaultProps={boardWidth:300,boardHeight:300,speed:100};var v=b;Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(v,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(t){t.unregister()})},9:function(t,e,a){t.exports=a(18)}},[[9,2,1]]]);
//# sourceMappingURL=main.0448e77a.chunk.js.map